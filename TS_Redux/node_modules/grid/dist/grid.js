!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.grid=t():e.grid=t()}(window,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=37)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.position3D=t.position=t.toArray=t.isElement=t.isElementWithStyle=t.isNumber=t.isCol=t.isRow=t.clamp=void 0,t.clamp=function(e,t,o,r){return e>o?r?NaN:o:e<t?r?NaN:t:e},t.isRow=function(e){return"row"===e},t.isCol=function(e){return"col"===e},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isElementWithStyle=function(e){return!!e.style},t.isElement=function(e){return!(!e||!e.nodeName)},t.toArray=function(e){return null!=e&&(Array.isArray(e)?e:[e])||[]},t.position=function(e,t,o,r,n,i,l){null!=t&&(e.style.top=t+"px"),null!=o&&(e.style.left=o+"px"),null!=r&&(e.style.bottom=r+"px"),null!=n&&(e.style.right=n+"px"),null!=i&&(e.style.height=i+"px"),null!=l&&(e.style.width=l+"px"),e.style.position="absolute"},t.position3D=function(e,t,o){var r="0",n="0";null!=o&&(r=o+"px"),null!=t&&(n=t+"px"),e.style.transform="translate3d("+r+","+n+",0)"}},function(e,t,o){"use strict";function r(e){var t=!0,o=null;var r={isDirty:function(){return t},isClean:function(){return!t},setDirty:function(){t=!0,e.requestDraw&&e.requestDraw()},setClean:function(){t=!1},disable:function(){o&&(o(),o=null)},enable:function(){o||(o=e.eventLoop.bind("grid-draw",(function(){r.setClean()})))}};return r.enable(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=r,t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.isAnnotatedEvent=t.isAnnotatedMouseOrKeyEvent=t.isAnnotatedKeyEvent=t.ANNOTATED_KEY_EVENTS_MAP=t.ANNOTATED_KEY_EVENTS=t.isAnnotatedMouseEventOfType=t.isAnnotatedMouseEvent=t.ANNOTATED_MOUSE_EVENTS_MAP=t.ANNOTATED_MOUSE_EVENTS=t.isAnnotatedGridCustomMouseEvent=t.GRID_EVENTS=t.EVENTS=void 0;var r=o(6),n=o(39),i=o(40),l=o(0);t.EVENTS=["click","mousedown","mouseup","mousemove","dblclick","keydown","keypress","keyup","copy","paste"],t.GRID_EVENTS=["grid-drag-start","grid-drag","grid-cell-drag","grid-drag-end","grid-cell-mouse-move"];var a={"grid-drag":!0,"grid-cell-drag":!0,"grid-drag-start":!0,"grid-drag-end":!0,"grid-cell-mouse-move":!0};t.isAnnotatedGridCustomMouseEvent=function(e){return!!a[e.type]},t.ANNOTATED_MOUSE_EVENTS={click:!0,dblclick:!0,mousedown:!0,mousemove:!0,mouseup:!0},t.ANNOTATED_MOUSE_EVENTS_MAP=t.ANNOTATED_MOUSE_EVENTS;t.isAnnotatedMouseEvent=function(e){return!!t.ANNOTATED_MOUSE_EVENTS_MAP[e.type]};t.isAnnotatedMouseEventOfType=function(e,t){return t===e.type},t.ANNOTATED_KEY_EVENTS={keydown:!0,keypress:!0,keyup:!0},t.ANNOTATED_KEY_EVENTS_MAP=t.ANNOTATED_KEY_EVENTS;t.isAnnotatedKeyEvent=function(e){return!!t.ANNOTATED_KEY_EVENTS_MAP[e.type]};t.isAnnotatedMouseOrKeyEvent=function(e){return t.isAnnotatedKeyEvent(e)||t.isAnnotatedMouseEvent(e)};function c(){var e,o={},a=[],c=n.default(),s=n.default(),u={isRunning:!1,destroyed:!1,setContainer:function(r){var n=i.default.bind(r,g);t.EVENTS.forEach((function(e){f(r,e,g)})),t.GRID_EVENTS.forEach((function(e){f(window,e,g)})),e=function(){n(),a.slice(0).forEach((function(e){e()})),Object.keys(o).forEach((function(e){o[e]=[]}))}},bind:function(){var e=Array.prototype.slice.call(arguments,0),t=e.filter((function(e){return"string"==typeof e}))[0],o=p(e);if(!o||!t)throw new Error("cannot bind without at least name and function");var r=e.filter((function(e){return l.isElement(e)||e===window||e===document}))[0];if(r){var n=v(o);return l.isElementWithStyle(r)&&(r.style.pointerEvents="auto"),f(r,t,n)}return o._eventLoopIdx=d(t).push(o)-1,o._eventLoopUnbound=!1,function(){if(!o._eventLoopUnbound){o._eventLoopUnbound=!0;var e=d(t);null!=o._eventLoopIdx&&(e[o._eventLoopIdx]=null),h()}}},bindOnce:function(){var e=Array.prototype.slice.call(arguments,0),t=p(e);e.splice(e.indexOf(t),1,(function(e){o(),t(e)}));var o=u.bind.apply(this,e);return o},fire:function(e){g(e="string"==typeof e?{type:e}:e)},addInterceptor:c.addListener,addExitListener:s.addListener,stopBubbling:function(e){return e.gridStopBubbling=!0,e}};function d(e){var t=o[e];return t||(t=o[e]=[]),t}function f(e,t,o){e.addEventListener(t,o);var r=function(){e.removeEventListener(t,o),a.splice(a.indexOf(r),1)};return a.push(r),r}function p(e){return e.filter((function(e){return"function"==typeof e}))[0]}function v(e){return function(t){!function(e,t){u.logTargets&&console.log("target",e.target,"currentTarget",e.currentTarget);var o=u.isRunning;u.isRunning=!0,c.notify(e),e.gridStopBubbling||t(e);o||(u.isRunning=!1,s.notify(e))}(t,e)}}var h=r.default((function(){Object.keys(o).forEach((function(e){var t=0,r=o[e];r&&(o[e]=r.filter((function(e){return e&&(e._eventLoopIdx=t,t++),!!e})))}))}),1),g=v((function(e){d(e.type).slice(0).some((function(t){return!!t&&(t(e),!!e.gridStopBubbling)}))}));return u.bind("grid-destroy",(function(){e(),u.destroyed=!0})),u}t.isAnnotatedEvent=function(e){return t.isAnnotatedMouseOrKeyEvent(e)||t.isAnnotatedGridCustomMouseEvent(e)},t.create=c,t.default=c},function(e,t){(function(){"use strict";var t,o,r,n;t=function(e,t){this.name=e,this.code=t},n=function(e,o){return new t(e,o)},r=function(e){return e instanceof t},o=function(e){if(!r(e))throw new Error("Invalid reference");return e},e.exports={ref:n,isRef:r,assertRef:o}}).call(this)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=void 0;function r(e,t,o){return t.forEach((function(t){var r,n=t.name||t,i=e[n];Object.defineProperty(e,n,{enumerable:!0,get:function(){return r},set:function(e){var n=r,i=e!==n;i&&t.preDirty&&t.preDirty(),r=e,i&&(o.forEach((function(e){e.setDirty()})),function(e){return!!e.onDirty}(t)&&t.onDirty(e,n))}}),e[n]=i})),e}t.add=r,t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=t.colPositionRangeDimension=t.rowPositionRangeDimension=t.toStandardSpace=void 0;var r=o(4),n=["top","left","height","width","units","space"];t.toStandardSpace=function(e){return"real"===e?"view":e};function i(e,t,o,i){e=e||{};var l=Object.assign(e,{isDirty:t.isDirty,units:"cell",space:"data"});l._positionRangeDirtyClean=t;var a=n;i&&(a=n.map((function(e){return{name:e,onDirty:i.onDirty,preDirty:i.preDirty}})));var c=[t];return o&&c.push(o),r.default(l,a,c),l}t.rowPositionRangeDimension={getPosition:function(e){return e.top},getSize:function(e){return e.height},setPosition:function(e,t){return e.top=t,e},setSize:function(e,t){return e.height=t,e}},t.colPositionRangeDimension={getPosition:function(e){return e.left},getSize:function(e){return e.width},setPosition:function(e,t){return e.left=t,e},setSize:function(e,t){return e.width=t,e}},t.mixin=i,t.default=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r={cancel:function(){}};function n(e,t){var o=Object.assign((function(){o.timeout&&(clearTimeout(o.timeout),o.timeout=void 0),o.canceled||(o.timeout=window.setTimeout(e,t)),o.cancel=function(){null!=o.timeout&&clearTimeout(o.timeout),o.timeout=void 0,o.canceled=!0}}),r);return o}t.debounce=n,t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractSpaceConverter=void 0;var r=o(11),n=function(){function e(e){var t=this;this.grid=e,this.up=function(e){return t.row.prev(e)},this.down=function(e){return t.row.next(e)},this.left=function(e){return t.col.prev(e)},this.right=function(e){return t.col.next(e)}}return e.prototype.iterate=function(){var e=r.getArgs(arguments),t=e.range,o=e.rowFn,n=e.cellFn;e:for(var i=t.top;void 0!==i&&i<t.top+t.height;i=this.row.next(i)){var l=void 0;o&&(l=o(i));t:for(var a=t.left;void 0!==a&&a<t.left+t.width;a=this.col.next(a))if(n){var c=n(i,a,l);if(!1===c)break e;if(!0===c)break t}}},e}();t.AbstractSpaceConverter=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractDimensionalSpaceConverter=void 0;var r=o(0),n=function(){function e(e){this.gridDimension=e}return e.prototype.clamp=function(e){return r.clamp(e,0,this.count()-1)},e.prototype.prev=function(e){return this.iterateWhileHidden(-1,e)},e.prototype.next=function(e){return this.iterateWhileHidden(1,e)},e.prototype.get=function(e){return this.gridDimension.rowColModel.get(this.toVirtual(e))},e.prototype.indexes=function(e){void 0===e&&(e={}),e.from=e.from||0;var t=this.count();e.to=e.to&&e.to+1||e.length&&e.length+e.from||t;for(var o=[],r=Math.max(e.from,0);null!=r&&r<Math.min(e.to,t);r=e.reverse?this.prev(r):this.next(r))o.push(r);return o},e.prototype.iterate=function(){var e,t;2===arguments.length?(e=arguments[0],t=arguments[1]):t=arguments[0],this.indexes(e).some((function(e){return!!t(e)}))},e.prototype.iterateWhileHidden=function(e,t){void 0===e&&(e=1);for(var o=t+e;o<this.count()&&o>=0;o+=e)if(!this.get(o).hidden)return o},e}();t.AbstractDimensionalSpaceConverter=n},function(e,t,o){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var o=0,r=t.length,n=e.length;o<r;o++,n++)e[n]=t[o];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.AbstractRowColModel=void 0;var n=o(6),i=o(1),l=o(4),a=o(41),c=o(0),s=function(){function e(e,t,o,r){this.descriptors=[],this._numFixed=0,this._numHeaders=0,this._selected=[],this.grid=e,this.name=t,this.dirtyClean=i.default(e),this.builderDirtyClean=i.default(e),this.areBuildersDirty=this.builderDirtyClean.isDirty,this.isDirty=this.dirtyClean.isDirty,this.ROW_COL_EVENT_TYPE="grid-"+t+"-change",this.defaultSize=r,this.lengthName=o,this.fireSelectionChange=n.default((function(){e.eventLoop.fire("grid-"+t+"-selection-change")}),1)}return e.prototype.add=function(e){var t=this;if(e){var o=c.toArray(e);o.forEach((function(e){if(e.header)t.descriptors.splice(t._numHeaders,0,e),t._numFixed++,t._numHeaders++;else{if(e.fixed){if(t.descriptors.length&&!t.descriptors[t.descriptors.length-1].fixed)throw new Error("Cannot add a fixed column after an unfixed one");t._numFixed++}t.descriptors.push(e)}})),this.updateDescriptorIndices(),this.setDescriptorsDirty({action:"add",descriptors:o})}},e.prototype.addHeaders=function(e){if(e){var t=c.toArray(e);t.forEach((function(e){e.header=!0})),this.add(t)}},e.prototype.header=function(e){return this.descriptors[e]},e.prototype.get=function(e,t){return t&&(e+=this._numHeaders),this.descriptors[e]},e.prototype.length=function(e){var t=e?0:this._numHeaders;return this.descriptors.length-t},e.prototype.remove=function(e,t){var o=this.descriptors.indexOf(e);-1!==o&&(this.descriptors.splice(o,1),e.header?(this._numFixed--,this._numHeaders--):e.fixed&&this._numFixed--),t||(this.updateDescriptorIndices(),this.setDescriptorsDirty({action:"remove",descriptors:[e]}))},e.prototype.clear=function(e){var t;e?(t=this.descriptors,this.descriptors=[],this._numFixed=0,this._numHeaders=0):(t=this.descriptors.slice(this._numHeaders),this.descriptors=this.descriptors.slice(0,this._numHeaders),this._numFixed=this._numHeaders),this.updateDescriptorIndices(),t&&t.length&&this.setDescriptorsDirty({action:"remove",descriptors:t})},e.prototype.move=function(e,t,o){var n,i=this,l=c.toArray(e);if(1===l.length){var a=l[0];this.descriptors.splice(t,0,this.descriptors.splice(a,1)[0]),this.setDescriptorsDirty({action:"move",descriptors:[this.get(a),this.get(t)]})}else{for(;-1!==l.indexOf(t)&&-1!==t;)t--,o=!0;var s=this.descriptors[t],u=l.sort((function(e,t){return t-e})).map((function(e){return i.descriptors.splice(e,1)[0]}));u.reverse(),(n=this.descriptors).splice.apply(n,r([this.descriptors.indexOf(s)+(o?1:0),0],u)),this.updateDescriptorIndices(),this.setDescriptorsDirty({action:"move",descriptors:u.concat(s)})}},e.prototype.numHeaders=function(){return this._numHeaders},e.prototype.numFixed=function(e){return this._numFixed-(e?this._numHeaders:0)},e.prototype.toVirtual=function(e){return e+this.numHeaders()},e.prototype.toData=function(e){return e-this.numHeaders()},e.prototype.select=function(e,t){var o=this;c.toArray(e).filter((function(e){var t=!!o.get(e,!0);return t||console.warn("Tried to select index that had no descriptor",e),t})).map((function(e){var t=o.get(e,!0);if(!t.selected&&!1!==t.selectable)return o.addDragReadyClass(t,e),t.selected=!0,o._selected.push(e),e})).filter((function(e){return null!=e})).length&&!t&&this.fireSelectionChange()},e.prototype.deselect=function(e,t){var o=this,r=c.toArray(e),n=this._selected.reduce((function(e,t){return e[t]=t,e}),{}),i=r.filter((function(e){var t=!!o.get(e,!0);return t||console.warn("Tried to deselect index that had no descriptor",e),t})).map((function(e){var t=o.get(e,!0);if(o.removeDragReadyClass(t),t.selected)return t.selected=!1,n[e]=!1,e})).filter((function(e){return null!=e}));this._selected=Object.keys(n).reduce((function(e,t){var o=n[t];return!1!==o&&e.push(o),e}),[]),i.length&&!t&&this.fireSelectionChange()},e.prototype.toggleSelect=function(e){this.get(e,!0).selected?this.deselect(e):this.select(e)},e.prototype.clearSelected=function(){return this.deselect(this.getSelected().slice(0))},e.prototype.getSelected=function(){return this._selected},e.prototype.allSelected=function(){return this.getSelected().length===this.length()},e.prototype.create=function(e){var t,o=this,n=!1,i=!1,a={isBuiltActionable:!0,get fixed(){return a.header||!!n},set fixed(e){n=e},get expanded(){return i},set expanded(e){!function(e){var n;if(a.children&&null!=a.index)if(i=e){(n=o.descriptors).splice.apply(n,r([a.index+1,0],a.children)),o.updateDescriptorIndices(),o.setDescriptorsDirty({action:"add",descriptors:a.children});var l="row"===o.name?a.index:0,c="col"===o.name?a.index:0,s="row"===o.name?1:1/0,u="col"===o.name?1:1/0;t=o.grid.cellClasses.create(l,c,"grid-expanded",s,u,"virtual"),o.grid.cellClasses.add(t)}else o.descriptors.splice(a.index+1,a.children.length),o.updateDescriptorIndices(),o.setDescriptorsDirty({action:"remove",descriptors:r([],a.children)}),t&&o.grid.cellClasses.remove(t)}(e)}};return l.default(a,["builder"],[this.builderDirtyClean]),l.default(a,[{name:"data",onDirty:function(){o.grid.dataModel.setDirty()}}],[]),a.builder=e,l.default(a,[{name:this.lengthName,onDirty:function(){o.setDescriptorsDirty({action:"size",descriptors:[a]})}},{name:"hidden",onDirty:function(){o.setDescriptorsDirty({action:"hide",descriptors:[a]})}}],[this.dirtyClean])},e.prototype.createBuilder=function(e,t,o){return void 0===t&&(t=a.default),void 0===o&&(o=!1),{render:e,update:t,includeHeaders:o}},e.prototype.sizeOf=function(e){var t=this.get(e);return t?t.hidden?0:t[this.lengthName]||this.defaultSize:NaN},e.prototype.setDescriptorsDirty=function(e){var t=Object.assign(e,{type:this.ROW_COL_EVENT_TYPE});this.grid.eventLoop.fire(t),this.dirtyClean.setDirty(),this.builderDirtyClean.setDirty()},e.prototype.updateDescriptorIndices=function(){var e=this,t=this._selected;(this._selected=[],this.descriptors.forEach((function(t,o){t.index=o,t.selected&&e._selected.push(o)})),this._selected.length===t.length)?(this._selected.sort(),t.sort(),t.some((function(t,o){return t!==e._selected[o]}))&&this.fireSelectionChange()):this.fireSelectionChange()},e.prototype.addDragReadyClass=function(e,t){if(e&&t>=0){var o="row"===this.name?t:-1,r="row"===this.name?-1:t,n=this.grid.cellClasses.create(o,r,"grid-col-drag-ready");this.grid.cellClasses.add(n),e.dragReadyClass=n}},e.prototype.removeDragReadyClass=function(e){e&&e.dragReadyClass&&(this.grid.cellClasses.remove(e.dragReadyClass),e.dragReadyClass=void 0)},e.prototype.compactAndSort=function(){this.rangeStates=this.rangeStates.slice().sort((function(e,t){return e.start-t.start})).reduce((function(e,t){var o=e.pop();return o?o.end<t.start?r(r([],e),[o,t]):o.end>t.end?r(r([],e),[o]):r(r([],e),[{start:o.start,end:t.end}]):r(r([],e),[t])}),[])},e}();function u(e,t,o,r){return new s(e,t,o,r)}t.AbstractRowColModel=s,t.create=u,t.default=u},function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function l(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var o,r,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(n=l.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){l.label=i[1];break}if(6===i[0]&&l.label<n[1]){l.label=n[1],n=i;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(i);break}n[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var l=o(1),a={value:null,formatted:""},c={value:null,formatted:"Loading..."};function s(e,t){var o=l.default(e),s=function(o,n){var i=u(o);return i?r({formatted:""},i[n]):t&&0===e.cols.converters.virtual.toData(n)?c:a},u=function(t){var o=e.rowModel.get(t);return o&&o.data};function d(){return n(this,void 0,void 0,(function(){var o,r,n,l,a,c,s,d;return i(this,(function(i){if(!t)return[2];for(o=[],r=[],n=e.viewPort.rows,l=e.cellScrollModel.row,a=l+n,c=Math.max(0,l-n);c<Math.min(a+1+n,e.rows.converters.data.count());c++)u(e.rows.converters.data.toVirtual(c))||(c>=a?o.push(c):r.push(c));return o.length||r.length?!r.length&&o.length<n/2?[2]:(s=new Set(r),o.forEach((function(e){return s.add(e)})),(d=Array.from(s)).length?(t(d),[2]):[2]):[2]}))}))}return e.eventLoop.bind("grid-cell-scroll",(function(){d()})),e.eventLoop.bind("grid-viewport-change",(function(){d()})),{isDirty:o.isDirty,setDirty:o.setDirty,handleCachedDataChange:function(){o.setDirty(),d()},get:function(t,o){return s(e.rows.converters.data.toVirtual(t),e.cols.converters.data.toVirtual(o))},getHeader:function(e,t){return s(e,t)},set:function(t,o,r){var n;Array.isArray(t)?n=t:("string"==typeof r&&(r=r.replace("[rR]","").replace("[cC]","").split(" ")),n=[{row:t,col:o,value:r}]),n.forEach((function(t){var o=e.rowModel.get(e.rows.converters.data.toVirtual(t.row)),r=o.data;r||(r=o.data=[]),r[e.cols.converters.data.toVirtual(t.col)]={value:t.value,formatted:null!=t.formatted?t.formatted:t.value}}))}}}t.create=s,t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equal=t.getArgs=t.iterate=t.createFromPoints=t.union=t.intersect=void 0,t.intersect=function(e,t){var o=t[0],r=e[0],n=r+e[1]-1,i=o+t[1]-1;if(o>n||i<r)return null;var l=r>o?r:o;return[l,(n<i?n:i)-l+1]},t.union=function(e,t){if(!e)return t;if(!t)return e;var o=t[0],r=o+t[1]-1,n=e[0],i=n+e[1]-1,l=n<o?n:o;return[l,(i>r?i:r)-l+1]},t.createFromPoints=function(e,t,o,r){var n={};return e<o?(n.top=e,n.height=o-e+1):(n.top=o,n.height=e-o+1),t<r?(n.left=t,n.width=r-t+1):(n.left=r,n.width=t-r+1),n},t.iterate=function(){for(var e=this.getArgs(arguments),t=e.range,o=e.cellFn,r=e.rowFn,n=t.top;n<t.top+t.height;n++){var i=void 0;r&&(i=r(n));for(var l=t.left;l<t.left+t.width;l++)o&&o(n,l,i)}},t.getArgs=function(e){var t,o=e[0],r=e[1];return 3===e.length&&(r=e[2],t=e[1]),{range:o,cellFn:r,rowFn:t}},t.equal=function(e,t){return e.top===t.top&&e.left===t.left&&e.width===t.width&&e.height===t.height}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(1),n=o(4),i=o(5);function l(e){var t=r.default(e),o=[],l=[],a={add:function(e){o.push(e),s(e),e._cellClassDirtyClean&&e._cellClassDirtyClean.enable(),t.setDirty()},remove:function(e){var r=o.indexOf(e);-1!==r&&(o.splice(r,1),s(e,!0),e._cellClassDirtyClean&&e._cellClassDirtyClean.disable(),t.setDirty())},getAll:function(){return o.slice(0)},getCachedClasses:function(e,t){return l[e]&&l[e][t]||[]},create:function(o,l,a,c,u,d){var f=r.default(e),p=i.default({_cellClassDirtyClean:f},f,t,{preDirty:v,onDirty:h});function v(){p&&s(p,!0)}function h(){p&&s(p)}return n.default(p,[{name:"class",preDirty:v,onDirty:h}],[f,t]),p.space=d||p.space,p.top=o,p.left=l,p.height=c||1,p.width=u||1,p.class=a,p},isDirty:t.isDirty};function c(){l=[],a.getAll().forEach((function(e){s(e)}))}function s(t,o){var r=t.top,n=t.left,a=t.height,c=t.width,s=t.space,u=t.class;if(void 0!==r&&void 0!==a&&void 0!==n&&void 0!==c&&void 0!==u)for(var d=r;d<Math.min(r+a,e.rowModel.length(!0));d++)for(var f=n;f<Math.min(n+c,e.colModel.length(!0));f++){var p=i.toStandardSpace(s),v=e[p].row.toVirtual(d),h=e[p].col.toVirtual(f),g=l[v];g||(g=l[v]=[]);var w=g[h];if(w)if(o){var y=w.indexOf(u);-1!==y&&w.splice(y,1)}else-1===w.indexOf(u)&&w.push(u);else o||(g[h]=[u])}}return e.eventLoop.bind("grid-row-change",c),e.eventLoop.bind("grid-col-change",c),a}t.create=l,t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(2);function n(e){var t=function(t){!function(t,o,r){t.realRow=e.data.row.toView(o),t.realCol=e.data.col.toView(r),t.virtualRow=e.data.row.toVirtual(o),t.virtualCol=e.data.col.toVirtual(r),t.row=o,t.col=r}(t,e.navigationModel.focus.row,e.navigationModel.focus.col)},o=function(e){r.isAnnotatedKeyEvent(e)&&t(e)};return e.eventLoop.addInterceptor(o),{_annotateEvent:o}}t.create=n,t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(15),n=o(2),i=["clientX","clientY","gridX","gridY","layerX","layerY","row","col","realRow","realCol","virtualRow","virtualCol"];function l(e){var t,o,l,a={rowInfo:{view:function(e){return e.realRow},virtual:function(e){return e.virtualRow},data:function(e){return e.row},gridPx:function(e){return e.gridY},layerPx:function(e){return e.layerY}},colInfo:{view:function(e){return e.realCol},virtual:function(e){return e.virtualCol},data:function(e){return e.col},gridPx:function(e){return e.gridX},layerPx:function(e){return e.layerX}},_annotateEvent:function(e){n.isAnnotatedMouseEvent(e)&&a._annotateEventInternal(e)},_annotateEventFromViewCoords:function(t,o,r){return t.realRow=o,t.realCol=r,t.virtualRow=e.view.row.toVirtual(t.realRow),t.virtualCol=e.view.col.toVirtual(t.realCol),t.row=e.virtual.row.toData(t.virtualRow),t.col=e.virtual.col.toData(t.virtualCol),t},_annotateEventInternal:function(t){var o=e.viewPort.toGridY(t.clientY),r=e.viewPort.toGridX(t.clientX),n=e.rows.viewPort.toViewFromPx(o),i=e.cols.viewPort.toViewFromPx(r);a._annotateEventFromViewCoords(t,n,i),t.gridX=r,t.gridY=o}};function c(t){var o=0;return t.clientX>(e.container&&e.container.getBoundingClientRect().right||window.innerWidth)?o=1:e.viewPort.toGridX(t.clientX)<e.virtualPixelCellModel.fixedWidth()&&(o=-1),o}function s(t){var o=0;return t.clientY>(e.container&&e.container.getBoundingClientRect().bottom||window.innerHeight)?o=1:e.viewPort.toGridY(t.clientY)<e.virtualPixelCellModel.fixedHeight()&&(o=-1),o}function u(e,t){var o=r.default(e,!0,!0);return i.forEach((function(e){o[e]=t[e]})),o.originalEvent=t,o}function d(t,o,r){var n=u(t,o);return r&&(n=r(n)||n),o.target?o.target.dispatchEvent(n):e.eventLoop.fire(n),n}return e.eventLoop.addInterceptor((function(r){a._annotateEvent(r),n.isAnnotatedMouseEventOfType(r,"mousedown")?r.currentTarget===e.container&&function(o){var r,n=o.row,i=o.col,l=!1,a=o.clientX,f=o.clientY,p=e.eventLoop.bind(window,"mousemove",(function(u){!l||u.which?(l||(a===u.clientX&&f===u.clientY&&console.warn("Got a mouse move event with ",u.clientX,",",u.clientY," when the last position was ",a,",",f),d("grid-drag-start",o,(function(o){s(u),c(u);o.enableAutoScroll=function(){r&&r(),r=e.eventLoop.bind("grid-drag",(function(o){var r=s(o),n=!r?0:r,i=!c?0:c(o);null!=t&&clearInterval(t),(n||i)&&(t=e.interval((function(){e.cellScrollModel.scrollTo(e.cellScrollModel.row+n,e.cellScrollModel.col+i)}),100))}))}})),l=!0),d("grid-drag",u),u.row===n&&u.col===i||(d("grid-cell-drag",u),n=u.row,i=u.col)):h(u)})),v=e.eventLoop.bind(window,"mouseup",h);function h(o){null!=t&&clearInterval(t),p(),v(),r&&r();var n=u("grid-drag-end",o);e.eventLoop.fire(n)}}(r):n.isAnnotatedMouseEventOfType(r,"mousemove")&&(r.row===o&&r.col===l||(d("grid-cell-mouse-move",r),o=r.row,l=r.col))})),a}t.create=l,t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o,r){void 0===o&&(o=!1);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,o,r),n}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(1),n=o(0);function i(e){var t=r.default(e);function o(e){function o(t){var o=r.position,n=o;if(e.viewPort.isInView(t))return n;var i=function(t){return t-e.rowColModel.numFixed()}(t);if(i<o)n=i;else if(i>o){var l=e.virtualPixelCell.sizeOf(0,t),a=e.rowColModel.numFixed();n=0;for(var c=a;c<t&&l>e.viewPort.size;c++)l-=e.virtualPixelCell.sizeOf(c),n=c-(a-1)}return n}var r={position:0,scrollTo:function(o,i){var a=(e.rowColModel.length()||1)-1,c=r.position;return r.position=n.clamp(o,0,a),c!==r.position&&(t.setDirty(),i||l(),!0)},getPixelScroll:function(){return e.virtualPixelCell.sizeOf(e.rowColModel.numFixed(),r.position+e.rowColModel.numFixed()-1)},getScrollIntoViewCell:function(t){return o(e.converters.virtual.clamp(e.converters.data.toVirtual(t)))}};return r}var i={get col(){return i.colInfo.position},get row(){return i.rowInfo.position},isDirty:t.isDirty,rowInfo:o(e.rows),colInfo:o(e.cols),scrollTo:function(e,t,o,r){if(!isNaN(e)&&!isNaN(t)){var n=i.rowInfo.scrollTo(e,!0),a=i.colInfo.scrollTo(t,!0);(n||a)&&(o||l(r))}},scrollIntoView:function(e,t){var o=i.rowInfo.getScrollIntoViewCell(e),r=i.colInfo.getScrollIntoViewCell(t);i.scrollTo(o,r)}};function l(t){e.eventLoop.fire("grid-cell-scroll"),t||e.pixelScrollModel.scrollTo(i.rowInfo.getPixelScroll(),i.colInfo.getPixelScroll(),!0)}return e.eventLoop.bind("grid-row-change",(function(e){switch(e.action){case"remove":i.scrollTo(0,i.col)}})),i}t.create=i,t.default=i},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.ColModel=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=function(e){return t.sizeOf(e)},t.col=function(e){return t.get(e,!0)},t}return n(t,e),t}(o(9).AbstractRowColModel);function l(e){return new i(e,"col","width",100)}t.ColModel=i,t.create=l,t.default=l},function(e,t,o){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var o=0,r=t.length,n=e.length;o<r;o++,n++)e[n]=t[o];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var n=o(19),i=o(2),l=o(0),a=o(20);function c(e){var t,o={_dragRects:[],_onMousedown:function(o){if(c(o)){var r=e.data.col.get(o.col);(t=r&&!!r.selected)&&!n.default(o)&&e.eventLoop.stopBubbling(o)}},_onDragStart:function(n){if(c(n)&&!(n.realCol<e.colModel.numFixed())&&t){var i=e.view.col.get(n.realCol);if(i&&!1!==i.selectable){n.enableAutoScroll&&n.enableAutoScroll(),e.eventLoop.stopBubbling(n);var s=n.virtualCol;o._targetCol=e.decorators.create(0,void 0,1/0,1,"cell","real"),o._targetCol.postRender=function(e){e.setAttribute("class","grid-reorder-target"),o._targetCol?o._targetCol._renderedElem=e:console.error("somehow targetCol was set back to undefined before post render")},e.decorators.add(o._targetCol);var u=e.colModel.getSelected();o._dragRects=u.map((function(t){var o=e.data.col.toView(t),r=e.decorators.create(0,void 0,1/0,void 0,"px","real");return r.fixed=!0,r.colOffset=n.gridX-e.viewPort.getColLeft(o),r.postRender=function(e){e.setAttribute("class","grid-drag-rect")},r.width=e.viewPort.getColWidth(o),r})),e.decorators.add(o._dragRects),o._unbindKeyDown=e.escapeStack.add(d),o._unbindDrag=e.eventLoop.bind("grid-drag",(function(t){o._dragRects.forEach((function(o){o.left=l.clamp(t.gridX-o.colOffset,e.viewPort.getColLeft(e.colModel.numFixed()),1/0)})),o._targetCol?(o._targetCol.left=l.clamp(t.realCol,e.colModel.numFixed(),1/0),o._targetCol.moveAfter=t.realCol>s,o._targetCol.moveAfter?a(o._targetCol._renderedElem).add("right"):a(o._targetCol._renderedElem).remove("right")):console.error("somehow targetCol was set back to undefined before drag")})),o._unbindDragEnd=e.eventLoop.bind("grid-drag-end",(function(){if(o._targetCol){var t=o._targetCol.left;void 0!==t&&e.colModel.move(u.map((function(t){return e.data.col.toVirtual(t)})),e.viewPort.toVirtualCol(t),o._targetCol.moveAfter),d()}else console.error("somehow targetCol was set to undefined before drag end")}))}}function d(){if(o._targetCol){var t=r(r([],o._dragRects),[o._targetCol]);e.decorators.remove(t)}return o._unbindDrag&&o._unbindDrag(),o._unbindDragEnd&&o._unbindDragEnd(),o._unbindKeyDown&&o._unbindKeyDown(),!0}}};function c(e){return e&&e.row<0}return e.eventLoop.bind("grid-drag-start",o._onDragStart),e.eventLoop.addInterceptor((function(e){i.isAnnotatedMouseEventOfType(e,"mousedown")&&o._onMousedown(e)})),o}t.create=c,t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(window.navigator.userAgent.match(/win/i)?e.ctrlKey:e.metaKey)||!1}},function(e,t){function o(e){if(!(this instanceof o))return new o(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new o(e)},o.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var o=t.className.split(" ");return o.indexOf(e)>-1||(o.push(e),t.className=o.join(" ")),o}},o.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var o=t.className.split(" "),r=o.indexOf(e);return r>-1&&o.splice(r,1),t.className=o.join(" "),o}},o.prototype.has=function(e){var t=this.el;if(t)return t.className.split(" ").indexOf(e)>-1}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(42);function n(e){var t={annotateDecorator:function(t){var o=t.left;t._dragLine=e.decorators.create(0,void 0,1/0,1,"px","real"),t._dragLine.fixed=!0,t._dragLine.postRender=function(e){e.setAttribute("class","grid-drag-line")},t._onMousedown=function(t){e.eventLoop.stopBubbling(t)},t._onDragStart=function(r){function n(){return e.decorators.remove(t._dragLine),t._unbindDrag&&t._unbindDrag(),t._unbindDragEnd&&t._unbindDragEnd(),t._unbindKeyDown&&t._unbindKeyDown(),!0}e.eventLoop.stopBubbling(r),e.decorators.add(t._dragLine),t._unbindDrag=e.eventLoop.bind("grid-drag",(function(e){var o=t.getDecoratorLeft()+22;t._dragLine.left=Math.max(e.gridX,o)})),t._unbindKeyDown=e.escapeStack.add(n),t._unbindDragEnd=e.eventLoop.bind("grid-drag-end",(function(){var r=t._dragLine.left;if(void 0!==r&&void 0!==o){var i=r-t.getDecoratorLeft();e.view.col.get(o).width=i,e.colModel.getSelected().forEach((function(t){e.data.col.get(t).width=i}))}n()}))},t.postRender=function(o){o.style.transform="translateX(50%)",o.style.webkitTransform="translateX(50%)",o.style.removeProperty("left"),o.setAttribute("class","col-resize"),o.setAttribute("dts","grid_header_resize"),e.eventLoop.bind(o,"grid-drag-start",t._onDragStart),e.eventLoop.bind(o,"mousedown",t._onMousedown)}}};return r.default(e,t),t}t.create=n,t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(6),n=o(43),i=o(44);function l(e){function t(){var t=e.navigationModel.selection;return-1===t.top&&(t={top:e.navigationModel.focus.row,left:e.navigationModel.focus.col,width:1,height:1}),t}function o(e,t,o){var r,n;return"string"==typeof o?n=o:(r=o.value,n=o.formatted),{row:e,col:t,value:r,formatted:n,paste:!0}}e.eventLoop.bind("copy",(function(o){var r,i;if(e.focused){var l=document.createElement("table"),a=document.createElement("tbody");l.appendChild(a);var c=[],s=t(),u=!1;e.data.iterate(s,(function(){var e=document.createElement("tr");a.appendChild(e);var t=[];return c.push(t),{row:e,array:t}}),(function(t,o,r){var n=e.dataModel.get(t,o,!0);if(null==n)return u=!0;var i=document.createElement("td");n.value&&i.setAttribute("grid-data",JSON.stringify(n.value)),i.textContent=n.formatted||" ",i.innerHTML=i.innerHTML.replace(/\n/g,"<br>")||" ",r.row.appendChild(i),r.array.push(n.formatted)})),u||(null===(r=o.clipboardData)||void 0===r||r.setData("text/plain",n.stringify(c)),null===(i=o.clipboardData)||void 0===i||i.setData("text/html",l.outerHTML),o.preventDefault(),setTimeout((function(){e.eventLoop.fire("grid-copy")}),1))}else o.target===e.textarea&&o.preventDefault()})),e.eventLoop.bind("paste",(function(r){if(e.focused){var l=t();if(r.clipboardData&&r.clipboardData.getData){var a=n.parse(r.clipboardData.getData("text/plain")),c=r.clipboardData.getData("text/html");r.preventDefault(),setTimeout((function(){var t=document.createElement("div");t.style.opacity="0",t.style.pointerEvents="none",t.style.position="absolute",document.body.appendChild(t),t.innerHTML=c;var r=t.querySelector("table"),n=a;if(r){var s;r.style.whiteSpace="pre",s=[];var u=t.querySelectorAll("tr");[].forEach.call(u,(function(e){var t=[];s.push(t);var o=e.querySelectorAll("td");[].forEach.call(o,(function(e){var o=i(e),r={formatted:o&&o.trim(),value:void 0},n=e.getAttribute("grid-data");if(n)try{r.value=JSON.parse(n)}catch(e){console.warn("somehow couldn't parse grid data")}t.push(r)}))})),n=s}document.body.removeChild(t);var d,f=[];if(1===n.length&&1===n[0].length&&(d=n[0][0]),d){var p=d,v=[l];(v=v.concat(e.navigationModel.otherSelections)).forEach((function(t){e.data.iterate(t,(function(e,t){f.push(o(e,t,p))}))}))}else{var h=l.top,g=l.left;n.forEach((function(t,r){var n=r+h;n>e.data.row.count()-1||t.forEach((function(t,r){var i=r+g;null==t||i>e.data.col.count()-1||f.push(o(n,i,t))}))}));var w={top:h,left:g,height:n.length,width:n[0].length};e.navigationModel.clearSelection(),e.navigationModel.setSelection(w)}e.dataModel.set(f)}),1)}else console.warn("no clipboard data on paste event")}}));var l=r.default((function(){e.editModel&&e.editModel.editing||!e.focused||(e.textarea.value=e.dataModel.get(e.navigationModel.focus.row,e.navigationModel.focus.col).formatted||".",e.textarea.select())}),1);return e.eventLoop.bind("keyup",(function(e){l()})),e.eventLoop.bind("grid-focus",(function(e){l()})),e.eventLoop.bind("mousedown",(function(t){t.target===e.textarea&&l()})),{_maybeSelectText:l}}t.create=l,t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(1),n=o(5),i=o(0);function l(e){var t=r.default(e),o=[],l=[];return{add:function(e){i.toArray(e).forEach((function(e){o.push(e),e._decoratorDirtyClean&&e._decoratorDirtyClean.enable()})),t.setDirty()},remove:function(e){i.toArray(e).forEach((function(e){var r=o.indexOf(e);-1!==r&&(o.splice(r,1),l.push(e),e._decoratorDirtyClean&&e._decoratorDirtyClean.disable(),t.setDirty())}))},getAlive:function(){return o.slice(0)},popAllDead:function(){var e=l;return l=[],e},isDirty:t.isDirty,create:function(o,i,l,a,c,s){var u=r.default(e),d={_decoratorDirtyClean:u,render:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.bottom="0px",e.style.right="0px",f.postRender&&f.postRender(e),e}},f=n.default(d,u,t);return f.top=o,f.left=i,f.height=l,f.width=a,f.units=c||f.units,f.space=s||f.space,f}}}t.create=l,t.default=l},function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.Trigger=void 0;var n,i=o(2),l=o(25),a=o(50);function c(e){var t={editing:!1,_defaultDecorator:e.decorators.create(-1,-1,1,1),_hydrateOpts:function(e){void 0===e&&(e={});var t=!(!e||!e.action),o=r({getEditor:function(){return{}},headers:!!e.headers,editTriggers:t?[n.Click,n.Space,n.Enter]:[n.Dblclick,n.Enter,n.Typing],saveTriggers:t?[]:[n.Tab,n.Enter,n.Clickoff],cancelTriggers:t?[]:[n.Escape]},e);return t?o.getEditor=function(){return{decorator:!1,save:void 0,closePromise:o.action&&o.action.apply(o,arguments)}}:o.getEditor||(o.getEditor=function(){return{}}),o},_interceptor:function(o){if(i.isAnnotatedMouseOrKeyEvent(o)){var r=o.col,a=o.row,s=d(r);if(s)if(t.editing)switch(o.type){case"keydown":u(s,n.Tab)&&l.is(l.code.special.tab,o.which)&&(t.saveEdit().then((function(){e.navigationModel.handleTabEvent(o)})),o.preventDefault()),u(s,n.Enter)&&l.is(l.code.special.enter,o.which)&&!o.shiftKey&&(t.saveEdit().then((function(){e.navigationModel.setFocus(e.data.down(e.navigationModel.focus.row),e.navigationModel.focus.col)})),o.preventDefault())}else switch(o.type){case"click":c(s,n.Click)&&e.eventIsOnCells(o)&&t.editCell(a,r,!1,o);break;case"dblclick":c(s,n.Dblclick)&&e.eventIsOnCells(o)&&t.editCell(a,r,!1,o);break;case"keydown":c(s,n.Space)&&l.is(l.code.special.space,o.which)&&t.editCell(a,r,!1,o),c(s,n.Enter)&&l.is(l.code.special.enter,o.which)&&t.editCell(a,r,!1,o),(l.is(l.code.special.backspace,o.which)||46===o.which)&&t.deleteSelection();break;case"keypress":c(s,n.Typing)&&o.which>=32&&o.which<=122&&!o.metaKey&&!o.ctrlKey&&!o.altKey&&t.editCell(a,r,!0,o)}}},deleteSelection:function(){var t=e.navigationModel.getAllSelectedRanges(),o=[];t.forEach((function(t){e.data.iterate(t,(function(e,t){o.push({row:e,col:t,value:void 0})}))})),e.dataModel.set(o)},editCell:function(o,r,i,l){if(t.editing&&t.saveEdit(),t.savePromise=void 0,!isNaN(o)&&!isNaN(r)){var c=d(r);if(c&&(!(o<0||r<0)||c.headers)){var p=c.getEditor(o,l);p&&(p.closePromise||!1!==p.decorator)&&(f(!0),void 0===p.decorator&&(p.decorator=t._defaultDecorator,void 0===p.save&&(p.save=function(){var e=t._defaultDecorator.renderedElem&&t._defaultDecorator.renderedElem.value;return Promise.resolve({value:e,formatted:e})})),t.currentEditor=p,p.decorator&&(p.decorator.typedText=function(){return i?e.textarea.value&&e.textarea.value.trim():""},p.decorator.top=o,p.decorator.left=r,e.decorators.add(p.decorator),p.removeEscapeStackHandler=e.escapeStack.add((function(){s(c,n.Escape)?t.cancelEdit():u(c,n.Escape)&&t.saveEdit()})),p.removeClickOffHandler=a.listen((function(){return p.decorator&&p.decorator.boundingBox}),(function(e){p.isInMe&&p.isInMe(e)||(s(c,n.Clickoff)?t.cancelEdit():u(c,n.Clickoff)&&t.saveEdit())}),{})),p.closePromise&&p.closePromise.then((function(){return t.saveEdit()}),(function(){return t.cancelEdit()})))}}},_closeEditor:function(){if(t.editing){f(!1);var o=t.currentEditor;o&&(o.removeEscapeStackHandler&&o.removeEscapeStackHandler(),o.removeClickOffHandler&&o.removeClickOffHandler(),o.decorator&&e.decorators.remove(o.decorator)),e.viewLayer.draw(),e.eventLoop.bindOnce("grid-draw",(function(){e.container&&e.container.focus()}))}},cancelEdit:function(){t._closeEditor()},saveEdit:function(){if(!t.savePromise){var o=t.currentEditor,r=o&&o.save&&o.save(),n=r&&r.then((function(o){if(o&&t.currentEditor&&t.currentEditor.decorator){var r=t.currentEditor.decorator,n=r.top,i=r.left;void 0!==n&&void 0!==i&&(o.row=n,o.col=i,e.dataModel.set([o]))}return o}))||Promise.resolve();t.savePromise=n.then((function(e){return t._closeEditor(),e}))}return t.savePromise}};function o(e,t){return-1!==t.indexOf(e)}function c(e,t){return o(t,e.editTriggers)}function s(e,t){return o(t,e.cancelTriggers)}function u(e,t){return o(t,e.saveTriggers)}function d(o){var r=e.data.col.get(o);if(r)return t._hydrateOpts(r.editOptions)}function f(o){var r=t.editing;t.editing=o,r!==o&&e.eventLoop.fire("grid-edit")}return t._defaultDecorator.render=function(){var o=document.createElement("textarea");return o.style.pointerEvents="all",o.style.zIndex="1",o.style.position="relative",e.eventLoop.bindOnce("grid-draw",(function(){var r=t._defaultDecorator.top,n=t._defaultDecorator.left;o.value=t._defaultDecorator.typedText&&t._defaultDecorator.typedText()||null!=r&&null!=n&&e.dataModel.get(r,n).formatted||"",o.focus()})),t._defaultDecorator.renderedElem=o,o},e.eventLoop.bind("grid-destroy",(function(){t.cancelEdit()})),e.eventLoop.addInterceptor(t._interceptor),t}!function(e){e.Click="click",e.Space="space",e.Enter="enter",e.Dblclick="dblclick",e.Typing="typing",e.Tab="tab",e.Clickoff="clickoff",e.Escape="escape"}(n=t.Trigger||(t.Trigger={})),t.create=c,t.default=c},function(e,t,o){(function(){"use strict";var t,r,n,i=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1},l={}.hasOwnProperty;t=o(3).isRef,(n={}).code={special:o(45),arrow:o(46),punctuation:o(47),alnum:o(48),brand:o(49)},n.get=function(e){return r(n.code,e)},n.is=function(e,o){return t(e)||(e=r(e,o)),t(e)?t(o)?o===e:o===e.code||i.call(e.code,o)>=0:o===e},r=function(e,o){var i,a,c;for(i in e)if(l.call(e,i))if(c=e[i],t(c)){if(n.is(c,o))return c}else if(a=r(c,o),t(a))return a},"undefined"!=typeof window&&(window.key=n),e.exports=n}).call(this)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(51);function n(e){var t,o,n,i=[],l=0,a=0,c=0,s=0,u=0,d=0;e.eventLoop.bind("grid-destroy",(function(){n&&(cancelAnimationFrame(n),n=void 0)}));var f={threshold:20,windowSize:60,slowCount:0,logging:!1,allAverages:!1,markFrameTime:function(){var e=r();if(t){var n=e-t;(o=1e3/(s+=(n-s)/20))<f.threshold&&u++,f.allAverages&&function(e){if("number"!=typeof e||isNaN(e))console.warn("passed non number to fps.addFrame()");else{if(i.length>f.windowSize){var t=i.shift();void 0!==t&&(c-=t)}c+=e,l+=e,a++,i.push(e)}}(1e3/n),d++}t=e},getMovingAverage:function(){return c/i.length},getAllTimeAverage:function(){return l/a},getLast:function(){return i[i.length-1]},getFilteredAverage:function(){return o},intervalId:window.setInterval((function(){f.percentBelowThreshold=u/d*100,f.percentBelowThreshold>50&&f.slowCount++,f.logging&&console.log("percent below threshold",f.percentBelowThreshold.toFixed(1),"filtered average",f.getFilteredAverage()),u=0,d=0}),1e3)};return function t(){e.destroyed||(n=requestAnimationFrame(t),f.markFrameTime())}(),f}t.create=n,t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(19),n=o(11),i=o(0),l=o(25),a=l.code.arrow;function c(e){var t=m(0,0,-1,-1),o={focus:{row:0,col:0},get selection(){return-1===t.height?{top:o.focus.row,left:o.focus.col,height:1,width:1}:t},otherSelections:[],checkboxModeFor:{},_selectionDecorator:t,focusDecorator:e.decorators.create(0,0,1,1),_rowSelectionClasses:[],_colSelectionClasses:[],getAllSelections:function(){var e=[];return o.selection&&e.push(o.selection),e.concat(o.otherSelections)},setFocus:function(t,r,n,i){var l="number"!=typeof(t=t&&e.data.row.clamp(t))||isNaN(t)?o.focus.row:t,a="number"!=typeof(r=r&&e.data.col.clamp(r))||isNaN(r)?o.focus.row:r,s=l!==o.focus.row||a!==o.focus.col;o.focus.row=l,o.focus.col=a,c.top=l,c.left=a,o.focusDecorator.top=l,o.focusDecorator.left=a,e.cellScrollModel.scrollIntoView(l,a),n||C(),i||_(),s&&e.eventLoop.fire("grid-focus-change")},_navFrom:u,handleTabEvent:function(t){var r=o.focus.col,n=o.focus.row;t&&t.shiftKey?0===r?(n=e.data.up(n),r=e.data.col.count()-1):r=e.data.left(r):r===e.data.col.count()-1?(n=e.data.down(n),r=0):r=e.data.right(r),o.setFocus(n,r),t.preventDefault()},setSelection:function(e){var o=e.height,r=e.width;x(e)&&(o=-1,r=-1),t.top=e.top,t.left=e.left,t.height=o,t.width=r,b()},getAllSelectedRanges:function(){var t=e.navigationModel.selection;return-1===t.top&&(t={top:e.navigationModel.focus.row,left:e.navigationModel.focus.col,width:1,height:1}),[t].concat(o.otherSelections)},clearSelection:function(){C(),_()}},c=e.cellClasses.create(0,0,"focus");function s(e,t,o,r,n){for(var i=(o(e)||!t)&&r||o;void 0!==e&&void 0!==n(e)&&!i(e=n(e)););return e}function u(t,o,n){var i=t,l=o;if(r.default(n)){var c=function(t,o){return void 0!==t&&void 0!==o&&!!e.dataModel.get(t,o).formatted},u=function(t){return c(i,t)&&!c(i,e.data.left(t))},d=function(t){return c(i,t)&&!c(i,e.data.right(t))},f=function(t){return c(t,l)&&!c(e.data.up(t),l)},p=function(t){return c(t,l)&&!c(e.data.down(t),l)},v=c(i,l);switch(n.which){case a.down.code:i=s(i,v,p,f,e.data.down);break;case a.up.code:i=s(i,v,f,p,e.data.up);break;case a.right.code:l=s(l,v,d,u,e.data.right);break;case a.left.code:l=s(l,v,u,d,e.data.left)}}else switch(n.which){case a.down.code:i=e.data.down(i);break;case a.up.code:i=e.data.up(i);break;case a.right.code:l=e.data.right(l);break;case a.left.code:l=e.data.left(l)}return void 0===i&&(i=t),void 0===l&&(l=o),{row:i,col:l}}function d(t){return!t.target||e.eventIsOnCells(t)&&2!==t.button}function f(e,t,r,i,l,a){var c=0===e&&r===1/0&&o.checkboxModeFor.cols||0===t&&i===1/0&&o.checkboxModeFor.rows;if(a&&c){var s=n.createFromPoints(e,t,r,i),u=g(s);u.length&&u.forEach((function(e){h(e,s)}))}else S(e,t,r,i,l)}function p(t){var o=e.data.col.get(t);return o&&!1!==o.selectable}function v(e){x(o.selection)?o.setSelection(e):w(e)}function h(t,r){if(r.width===1/0){var i=[];if(t.top<r.top){var l={top:t.top,height:r.top-t.top,left:t.left,width:t.width};i.push(l)}var a=t.top+t.height-1;a>r.top+r.height-1&&i.push({top:r.top+r.height,height:a-(r.top+r.height-1),left:t.left,width:t.width}),function(t){if(n.equal(t,o.selection))if(o.otherSelections.length){var r=o.otherSelections.pop();e.decorators.remove(r),o.setSelection(r)}else _();else if(l=t,l.space){var i=o.otherSelections.indexOf(t);-1!==i&&(o.otherSelections.splice(i,1),e.decorators.remove(t))}var l;b()}(t),i.forEach(v),b()}r.height}function g(e){return o.getAllSelections().filter((function(t){return t.height===1/0&&0===t.top&&n.intersect([t.left,t.width],[e.left,e.width])||t.width===1/0&&0===t.left&&n.intersect([t.top,t.height],[e.top,e.height])}))}function w(e){o.otherSelections.push(m(e.top,e.left,e.height,e.width))}function y(t){var r="row"===t?"_rowSelectionClasses":"_colSelectionClasses",n="row"===t?"rowModel":"colModel";if(o[r].forEach((function(t){e.cellClasses.remove(t)})),o[r]=[],e[n].allSelected()){var i="row"===t?1/0:0,l="col"===t?1/0:0,a=e.cellClasses.create(i,l,"selected",1,1,"virtual");e.cellClasses.add(a),o[r].push(a)}else e[n].getSelected().forEach((function(i){var l=e[n].toVirtual(i),a="row"===t?l:0,c="col"===t?l:0,s=e.cellClasses.create(a,c,"selected",1,1,"virtual");e.cellClasses.add(s),o[r].push(s)}))}function m(t,o,r,n){var i=e.decorators.create(t,o,r,n),l=i.render;return i.render=function(){var e=l();return e.setAttribute("class","grid-selection"),e},e.decorators.add(i),i}function b(){e.colModel.clearSelected(),e.rowModel.clearSelected(),o.getAllSelections().forEach((function(t){t&&function(t,o){var r;0===t.top&&t.height===1/0&&(r=e.data.col.indexes({from:t.left,length:t.width}),o?e.colModel.deselect(r):e.colModel.select(r));0===t.left&&t.width===1/0&&(r=e.data.row.indexes({from:t.top,length:t.height}),o?e.rowModel.deselect(r):e.rowModel.select(r))}(t)}))}function x(e){return 1===e.height&&1===e.width&&!o.otherSelections.length}function _(){o.setSelection({top:o.focus.row,left:o.focus.col,height:1,width:1})}function C(){e.decorators.remove(o.otherSelections),o.otherSelections=[],b()}function S(e,t,r,l,a){a||C(),r=i.clamp(r,0,1/0),l=i.clamp(l,0,1/0);var c=n.createFromPoints(e,t,r,l);o.setSelection(c)}function M(e){"size"!==e.action&&o.clearSelection()}return e.cellClasses.add(c),o.focusDecorator.postRender=function(e){return e.setAttribute("class","grid-focus-decorator"),e},e.decorators.add(o.focusDecorator),e.eventLoop.bind("keydown",(function(t){if(e.focused)if(l.is(l.code.special.tab,t.which))o.handleTabEvent(t);else if(l.is(a,t.which))if(t.shiftKey){var r=void 0;r=-1===o.selection.top?{top:o.focus.row,left:o.focus.col,height:1,width:1}:{top:o.selection.top,left:o.selection.left,height:o.selection.height,width:o.selection.width};var n=u(o.focus.row===r.top?r.top+r.height-1:r.top,o.focus.col===r.left?r.left+r.width-1:r.left,t);S(o.focus.row,o.focus.col,n.row,n.col),e.cellScrollModel.scrollIntoView(n.row,n.col)}else{var i=u(o.focus.row,o.focus.col,t);o.setFocus(i.row,i.col,!0)}})),e.eventLoop.bind("mousedown",(function(t){if(d(t)){var i=t.row,l=t.col,a=function(e,t){return o.checkboxModeFor.rows&&t<0||e<0&&p(t)&&o.checkboxModeFor.cols}(i,l),c=a||r.default(t);if(t.shiftKey){var s=o.focus.row,u=o.focus.col,v=i,y=l,m=void 0;if(v<0){var b=e.data.col.get(y);!1!==b.selectable&&(m=b.selected,s=0,v=1/0)}y<0&&(m=e.data.row.get(v).selected,u=0,y=1/0),f(s,u,v,y,c,m)}else{var _=i;_<0&&(_=e.view.row.toData(e.rowModel.numHeaders()));var S=l;S<0&&(S=e.view.col.toData(e.colModel.numHeaders()));var M=function(e,t){var o;e<0&&t<0?o=n.createFromPoints(0,0,1/0,1/0):e<0?p(t)&&(o=n.createFromPoints(0,t,1/0,t)):t<0&&(o=n.createFromPoints(e,0,e,1/0));return o}(i,l);if(M){var D=g(M);if(D.length&&a){var E=M.width===1/0&&M.height===1/0&&!(e.rowModel.allSelected()||e.colModel.allSelected());D.forEach((function(e){h(e,M)})),E&&o.setSelection(M),o.setFocus(_,S,!0,!0)}else c&&!x(o.selection)?w(o.selection):C(),o.setFocus(_,S,c),o.setSelection(M)}else c&&w(o.selection),o.setFocus(_,S,c)}}})),e.eventLoop.bind("grid-row-selection-change",(function(){y("row")})),e.eventLoop.bind("grid-col-selection-change",(function(){y("col")})),t._onDragStart=function(t){if(d(t)){t.enableAutoScroll&&t.enableAutoScroll();var r,n,i,l=o.focus.row,a=o.focus.col,c=t.col,s=t.row;s<0&&(r=!e.data.col.get(c).selected,l=0,n=1/0),c<0&&(r=!e.data.row.get(s).selected,a=0,i=1/0);var u=e.eventLoop.bind("grid-cell-drag",(function(t){if(n=n!==1/0?t.row:n,(i=i!==1/0?t.col:i)===1/0||p(i)){var o=e.rowModel.numFixed(!0);s<o&&n>o&&n!==1/0&&(s=n=e.rowModel.numFixed(),e.cellScrollModel.scrollTo(0,e.cellScrollModel.col));var u=e.colModel.numFixed(!0);c<u&&i>u&&i!==1/0&&(c=i=e.colModel.numFixed(),e.cellScrollModel.scrollTo(e.cellScrollModel.row,0)),isNaN(n)||isNaN(i)||f(l,a,n,i,!0,r)}})),v=e.eventLoop.bind("grid-drag-end",(function(){u(),v()}))}},e.eventLoop.bind("grid-drag-start",t._onDragStart),_(),e.eventLoop.bind("grid-col-change",M),e.eventLoop.bind("grid-row-change",M),o}t.create=c,t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(1),n=o(0);function i(e){var t=r.default(e),o=r.default(e);function i(t,r){function i(){return t.viewPort.size-t.virtualPixelCell.fixedSize()}function l(e){return function(e){return e/s.maxScroll}(e)*c()+t.virtualPixelCell.fixedSize()}function a(){if(s.maxIsAllTheWay)return Math.max(0,s.scrollSize-t.virtualPixelCell.sizeOf(t.rowColModel.length(!0)-1));var e=s.scrollSize,o=i();if(e<=o)return 0;for(var r=t.rowColModel.numFixed();e>o-10&&r<t.rowColModel.length(!0);)e-=t.virtualPixelCell.sizeOf(r),r++;return s.scrollSize-e}function c(){return i()-(t.positionRange.getSize(s.scrollBar)||10)}var s={position:0,offset:0,maxScroll:0,scrollSize:0,maxIsAllTheWay:!1,scrollTo:function(e,t){s.position=n.clamp(e,0,s.maxScroll),s.positionScrollBar(),s.updatePixelOffset(),t||u()},updatePixelOffset:function(){var r=0;if(!e.opts.snapToCell){var n=t.virtualPixelCell.fixedSize(),i=t.virtualPixelCell.toCellFromPx(s.position+n)-t.rowColModel.numFixed(),l=t.rowColModel.numFixed(),a=i+t.rowColModel.numFixed()-1;r=t.virtualPixelCell.sizeOf(l,a)-s.position}s.offset!==r&&o.setDirty(),s.offset=r},scrollBar:function(){var o=e.decorators.create();o.fixed=!0;var n=t.viewPort.clampPx;return o.postRender=function(r){return r.setAttribute("class","grid-scroll-bar"),r.setAttribute("style",r.getAttribute("style")+" border-radius: 6px;\n                background: rgba(0, 0, 0, .5);\n                z-index: 10;"),o._onDragStart=function(i){if(i.target===r){var l=t.cellMouse.layerPx(i);o._unbindDrag=e.eventLoop.bind("grid-drag",(function(o){e.eventLoop.stopBubbling(o);var r=function(e){return(e-t.virtualPixelCell.fixedSize())/c()*s.maxScroll}(n(t.cellMouse.gridPx(o))-l);s.scrollTo(r)})),o._unbindDragEnd=e.eventLoop.bind("grid-drag-end",(function(){o._unbindDrag&&o._unbindDrag(),o._unbindDragEnd&&o._unbindDragEnd()})),i.stopPropagation()}},e.eventLoop.bind(r,"grid-drag-start",o._onDragStart),e.eventLoop.bind(r,"mousedown",(function(t){e.eventLoop.stopBubbling(t)})),r},o.units="px",o.space="real",r.positionRange.setSize(o,10),o}(),positionScrollBar:function(){t.positionRange.setPosition(s.scrollBar,l(s.position))},calcCellScrollPosition:function(){var e=s.position;return t.virtualPixelCell.toCellFromPx(e+t.virtualPixelCell.fixedSize())-t.rowColModel.numFixed()},sizeScrollBar:function(){r.positionRange.setPosition(s.scrollBar,r.viewPort.size-10);var e=i(),o=Math.max(e/t.virtualPixelCell.totalSize()*e,20);t.positionRange.setSize(s.scrollBar,o),o>=e&&t.positionRange.setSize(s.scrollBar,-1)},cacheMaxScroll:function(){s.maxScroll=a()},cacheScrollSize:function(){s.scrollSize=t.virtualPixelCell.totalSize()-t.virtualPixelCell.fixedSize()},_getMaxScroll:a};return s}var l={y:i(e.rows,e.cols),x:i(e.cols,e.rows)},a={get height(){return l.y.scrollSize},get width(){return l.x.scrollSize},get top(){return l.y.position},get left(){return l.x.position},get offsetTop(){return l.y.offset},get offsetLeft(){return l.x.offset},get vertScrollBar(){return l.y.scrollBar},get horzScrollBar(){return l.x.scrollBar},maxScroll:{get height(){return l.y.scrollSize},get width(){return l.x.scrollSize}},maxIsAllTheWayFor:{get height(){return l.y.maxIsAllTheWay},set height(e){l.y.maxIsAllTheWay=e},get width(){return l.x.maxIsAllTheWay},set width(e){l.x.maxIsAllTheWay=e}},isDirty:t.isDirty,isOffsetDirty:o.isDirty,setScrollSize:function(e,t){a.y.scrollSize=e,a.x.scrollSize=t},scrollTo:function(e,t,o){a.y.scrollTo(e,!0),a.x.scrollTo(t,!0),o||u()},_getMaxScroll:function(e){return("height"===e?a.y:a.x)._getMaxScroll()},y:l.y,x:l.x};function c(){a.y.cacheMaxScroll(),a.x.cacheMaxScroll()}function s(e,t){return Math.abs(57.29*Math.atan(e/t))<30}function u(){e.eventLoop.fire("grid-pixel-scroll"),e.cellScrollModel.scrollTo(a.y.calcCellScrollPosition(),a.x.calcCellScrollPosition(),void 0,!0),t.setDirty()}function d(){a.y.sizeScrollBar(),a.x.sizeScrollBar(),a.y.positionScrollBar(),a.x.positionScrollBar()}function f(){a.y.updatePixelOffset(),a.x.updatePixelOffset()}e.eventLoop.bind("grid-virtual-pixel-cell-change",(function(){a.y.cacheScrollSize(),a.x.cacheScrollSize(),c(),d(),f()})),e.eventLoop.bind("grid-viewport-change",(function(){c(),d(),f()})),e.eventLoop.bind("mousewheel",(function(t){if(t.target===e.container||function(e,t){if(t=t||document,!e||!function(e){return!!e.style}(e))return t;var o=e.style.position,r="absolute"===o,n=/(auto|scroll)/,i=e;for(;i&&i!==t;){if(!r||"static"!==i.style.position){var l=getComputedStyle(i);if(n.test(""+l.overflow+l.overflowY+l.overflowX))break}i=i.parentElement}return"fixed"!==o&&i&&i!==e?i:e.ownerDocument||t}(t.target,e.container)===e.container){var o=t.deltaY,r=t.deltaX;s(o,r)?o=0:s(r,o)&&(r=0),a.scrollTo(a.top-o,a.left-r,!1),t.preventDefault()}})),e.decorators.add(a.y.scrollBar),e.decorators.add(a.x.scrollBar);return a}t.create=i,t.default=i},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.RowModel=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.height=function(e){return t.sizeOf(e)},t.row=function(e){return t.get(e,!0)},t}return n(t,e),t}(o(9).AbstractRowColModel);function l(e){return new i(e,"row","height",30)}t.RowModel=i,t.create=l,t.default=l},function(e,t,o){"use strict";function r(e){var t={_decorators:{}};function o(t){e.colModel.get(t).hidden=!1}function r(t,o,r){for(var n;void 0!==(n=e.colModel.get(t))&&n.hidden;)o&&o(t),t+=r;return t}function n(o){if(t._decorators[o]){var r=t._decorators[o];void 0!==r&&(e.decorators.remove(r),t._decorators[o]=void 0)}}return e.eventLoop.bind("grid-col-change",(function(i){"hide"!==i.action&&"add"!==i.action||i.descriptors.forEach((function(i){var l=i.index;if(l||0===l)if(i.hidden){var a,c=r(l,void 0,-1),s=-1!==c;s||(c=r(l,void 0,1)),a=c,n(l);var u=function(t,n){var i=e.decorators.create(0,t,1,1,"cell","virtual");return i.postRender=function(i){n?(i.style.transform="translate(50%, -50%)",i.style.webkitTransform="translate(50%, -50%)",i.style.removeProperty("left")):(i.style.transform="translate(-50%, -50%)",i.style.webkitTransform="translate(-50%, -50%)",i.style.removeProperty("right")),i.style.removeProperty("bottom"),i.style.top="50%",i.setAttribute("class","show-hidden-cols"),i.setAttribute("dts","grid_column_unhide_btn"),e.eventLoop.bind(i,"click",(function(){var e=n?1:-1;r(t+e,o,e)}))},i}(a,s);e.decorators.add(u),t._decorators[l]=u}else n(l)}))})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=r,t.default=r},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataSpaceConverter=void 0;var i=o(7),l=o(8),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.row=new c(t.grid.rows),t.col=new c(t.grid.cols),t}return n(t,e),t}(i.AbstractSpaceConverter);t.DataSpaceConverter=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.toData=function(e){return e},t.prototype.toVirtual=function(e){return this.gridDimension.rowColModel.toVirtual(e)},t.prototype.count=function(){return this.gridDimension.rowColModel.length()},t.prototype.toView=function(e){return this.gridDimension.converters.virtual.toView(this.toVirtual(e))},t}(l.AbstractDimensionalSpaceConverter)},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSpaceConverter=void 0;var i=o(7),l=o(8),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.row=new c(t.grid.rows),t.col=new c(t.grid.cols),t}return n(t,e),t}(i.AbstractSpaceConverter);t.ViewSpaceConverter=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.toView=function(e){return e},t.prototype.toData=function(e){return this.gridDimension.converters.virtual.toData(this.toVirtual(e))},t.prototype.toVirtual=function(e){return this.gridDimension.viewPort.toVirtual(e)},t.prototype.count=function(){return this.gridDimension.viewPort.count},t}(l.AbstractDimensionalSpaceConverter)},function(e,t,o){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualSpaceConverter=void 0;var i=o(7),l=o(8),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.row=new c(t.grid.rows),t.col=new c(t.grid.cols),t}return n(t,e),t}(i.AbstractSpaceConverter);t.VirtualSpaceConverter=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.toVirtual=function(e){return e},t.prototype.toData=function(e){return this.gridDimension.rowColModel.toData(e)},t.prototype.count=function(){return this.gridDimension.rowColModel.length(!0)},t.prototype.toView=function(e){return this.gridDimension.viewPort.toReal(e)},t}(l.AbstractDimensionalSpaceConverter)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(15),n=o(2),i=o(0);function l(e){var t,o,l,a,c,s,u,d,f,p,v,h,g,w,y,m={fixed:[],nonFixed:[]},b={},x={},_={build:function(e){B(),t=e,(l=P()).style.zIndex="4",(a=P()).style.zIndex="3",(c=P()).style.zIndex="3",(s=P()).style.zIndex="2",(u=O()).style.zIndex="4",(d=O()).style.zIndex="3",d.style.overflow="hidden",(f=O()).style.zIndex="3",f.style.overflow="hidden",(p=O()).style.zIndex="2",(o=document.createElement("div")).setAttribute("class","js-grid-view-root"),o.appendChild(l),o.appendChild(a),o.appendChild(c),o.appendChild(s),o.appendChild(u),o.appendChild(d),o.appendChild(f),o.appendChild(p),t.appendChild(o)},draw:function(){void 0===y&&(y=requestAnimationFrame(A))},eventIsOnCells:function(t){var o=t.target;if(!o)return!1;if(C(o)&&o.classList.contains("grid-cell")||o===e.textarea)return!0;if(!n.isAnnotatedEvent(t))return!1;var r=b&&b[t.realCol],i=x&&x[t.realRow];return r&&!e.view.col.get(t.realCol).isBuiltActionable?H(o,r[t.realRow]):!(!i||e.view.row.get(t.realRow).isBuiltActionable)&&H(o,i[t.realCol])},setTextContent:function(e,t){e&&(e.firstChild&&3===e.firstChild.nodeType?e.firstChild.nodeValue=t:e.textContent=t)},getBorderWidth:L,_drawCells:function(){!function(){if(v)return;var e=w[0]&&w[0][0];if(e){var t=e.className;e.className="grid-cell";var o=getComputedStyle(e).getPropertyValue("border-left-width");v=parseInt(o,10),e.className=t}v=!v||isNaN(v)?void 0:v}();var t,o,r=L(),n=e.rowModel.numHeaders(),i=e.colModel.numHeaders(),l=0,a=[],u=[],d=[];function f(e,t,n,i){e&&(0!==t&&o!==i?(e.style.display="",e.style.height=t+r+"px",e.style.top=n+"px"):e.style.display="none")}e.viewPort.iterateCells((function(o,c){var s=w[o][c],f=a[c]||(a[c]=e.viewPort.getColWidth(c)),p=d[c]||(d[c]=e.viewPort.toVirtualCol(c));if(0!==f&&p!==t){0===o&&(l+=f),t=p,s.style.display="",s.style.width=f+r+"px";var v=u[c]||(u[c]=e.viewPort.getColLeft(c));s.style.left=v+"px";var h,g=e.viewPort.toVirtualRow(o),y=o<n||c<i?e.dataModel.getHeader(g,p):e.dataModel.get(e.rowModel.toData(g),e.colModel.toData(p)),m=e.rowModel.get(g).builder,C=!0;if((!m||p<i&&!m.includeHeaders)&&(C=!1,(m=e.colModel.get(p).builder)&&g<n&&!m.includeHeaders&&(m=void 0)),m){var S=C?x[g][c]:b[p][o];h=m.update(S,{virtualCol:p,virtualRow:g,data:y})}if(h){var M=s.firstChild!==h;s.firstChild&&M&&s.removeChild(s.firstChild),M&&s.appendChild(h)}else _.setTextContent(s,y.formatted)}else s.style.display="none"}),(function(r){var n=e.viewPort.getRowHeight(r),i=e.view.row.toVirtual(r),l=e.viewPort.getRowTop(r);f(m.fixed[r],n,l,i),f(m.nonFixed[r],n,l,i),o=i,t=void 0})),m.nonFixed.forEach((function(e){e.style.width=l+"px"})),m.fixed.forEach((function(t){t.style.width=e.virtualPixelCellModel.fixedWidth()+"px"})),e.cellScrollModel.row%2?(s.className="grid-cells odds",c.className="grid-cells odds"):I((function(e){e.className="grid-cells"}))},_buildCells:function(){var t;I(T),w=[],m.fixed=[],m.nonFixed=[],e.viewPort.iterateCells((function(o,r){0===r&&(w[o]=[]),r===e.colModel.numFixed()?t=m.nonFixed[o]=z(o):0===r&&(t=m.fixed[o]=z(o));var n=function(){var e=document.createElement("div");e.setAttribute("dts","grid-cell");var t=e.style;return t.position="absolute",t.boxSizing="border-box",t.top="0px",t.bottom="0px",e}();w[o][r]=n,t.appendChild(n),function(t,o){var r=t<e.rowModel.numFixed(),n=o<e.colModel.numFixed();if(r&&n)return l;if(r)return a;if(n)return c;return s}(o,r).appendChild(t)}))},_buildCols:function(){b=V(e.cols,e.rows,b,(function(e,t,o){return{viewRow:t,viewCol:e,previousElement:o}}))},_buildRows:function(){x=V(e.rows,e.cols,x,(function(e,t,o){return{viewRow:e,viewCol:t,previousElement:o}}))},_drawDecorators:function(t){e.decorators.getAlive().forEach((function(o){var r=!!o.boundingBox,n=o.boundingBox||document.createElement("div");if(!r){n.style.pointerEvents="none",o.boundingBox=n;var i=o.render();i&&n.appendChild(i)}if(o.isDirty()||t||!r){var l=o.left,a=o.top;if("real"===o.space)switch(l=e.view.col.toVirtual(l),a=e.view.row.toVirtual(a),o.units){case"px":N(n,o.top,o.left,o.height,o.width);break;case"cell":k(o,n)}else if("virtual"===o.space||"data"===o.space)switch("data"===o.space&&(l=e.data.col.toVirtual(l),a=e.data.row.toVirtual(a)),o.units){case"px":break;case"cell":default:var c=function(t){var o={top:t.top,left:t.left,height:t.height,width:t.width};"data"===t.space&&"cell"===t.units&&(o.top+=e.rowModel.numHeaders(),o.left+=e.colModel.numHeaders());return o}(o),s=e.viewPort.intersect(c);s?k(s,n):N(n,-1,-1,-1,-1)}var v=n.parentElement;v&&v.removeChild(n);var h=a<e.rowModel.numFixed(),g=l<e.colModel.numFixed();h&&g?(o.scrollHorz=!1,o.scrollVert=!1,u.appendChild(n)):h?(o.scrollHorz=!0,o.scrollVert=!1,d.appendChild(n)):g?(o.scrollHorz=!1,o.scrollVert=!0,f.appendChild(n)):(o.scrollHorz=!0,o.scrollVert=!0,p.appendChild(n))}})),F(e.decorators.popAllDead())},_drawCellClasses:function(){e.viewPort.iterateCells((function(t,o){var r=e.cellClasses.getCachedClasses(e.view.row.toVirtual(t),e.view.col.toVirtual(o));w[t][o].className=r.join(" ")}))}},C=function(e){return!!e.classList};e.cellClasses.add(e.cellClasses.create(0,0,"grid-cell",1/0,1/0,"virtual"));var S=e.cellClasses.create(0,0,"grid-header grid-row-header",1/0,0,"virtual"),M=e.cellClasses.create(0,0,"grid-header grid-col-header",0,1/0,"virtual"),D=e.cellClasses.create(0,-1,"grid-last-fixed-col",1/0,1,"virtual"),E=e.cellClasses.create(-1,0,"grid-last-fixed-row",1,1/0,"virtual");function P(){var e=document.createElement("div");return e.setAttribute("dts","grid-cells"),e.setAttribute("class","grid-cells"),e.style.zIndex="",e}function O(){var e=document.createElement("div");return e.setAttribute("dts","grid-decorators"),i.position(e,0,0,0,0),e.style.zIndex="",e.style.pointerEvents="none",e}function A(){if(y=void 0,t&&!e.destroyed){!e.opts.snapToCell&&e.fps.slowCount>10&&(e.opts.snapToCell=!0);var o=e.viewPort.isDirty();o&&_._buildCells();var r=e.colModel.areBuildersDirty();(o||r)&&_._buildCols();var n=e.rowModel.areBuildersDirty();(o||n)&&_._buildRows();var v=e.colModel.isDirty()||e.rowModel.isDirty()||e.cellScrollModel.isDirty();(e.cellClasses.isDirty()||o||v)&&_._drawCellClasses(),(o||v||r||n||e.dataModel.isDirty())&&_._drawCells();var h,g,w,m,b=e.decorators.isDirty()||o||v;b&&_._drawDecorators(v||o),(e.pixelScrollModel.isOffsetDirty()||b)&&(h=e.pixelScrollModel.offsetTop,g=e.pixelScrollModel.offsetLeft,w=e.virtualPixelCellModel.fixedHeight(),m=e.virtualPixelCellModel.fixedWidth(),i.position(l,0,0,void 0,void 0,w,m),i.position(s,0,0,0,0),i.position3D(s,h,g),i.position(a,0,0,void 0,0,w),i.position3D(a,0,g),i.position(c,0,0,0,void 0,void 0,m),i.position3D(c,h,0),i.position(u,0,0,void 0,void 0,w,m),i.position(p,0,0,0,0),i.position3D(p,h,g),i.position(d,0,m,void 0,0,void 0,void 0),i.position3D(d,0,0),i.position(f,w,0,0,void 0,void 0,void 0),i.position3D(f,0,0),e.decorators.getAlive().forEach((function(e){var t=0,o=0;e.scrollVert&&!e.scrollHorz?t=w-h:e.scrollHorz&&!e.scrollVert&&(o=m-g),e.fixed&&(e.scrollVert&&(t+=h),e.scrollHorz&&(o+=g)),e.boundingBox&&(e.boundingBox.style.marginTop=-1*t+"px",e.boundingBox.style.marginLeft=-1*o+"px")}))),e.eventLoop.fire("grid-draw")}}function L(){return v||1}function T(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function I(e){e(l),e(a),e(c),e(s)}function z(t){var o=document.createElement("div");return o.setAttribute("class","grid-row"),o.setAttribute("dts","grid-row"),o.style.position="absolute",o.style.left="0",t<e.rowModel.numHeaders()&&o.classList.add("grid-is-header"),o}function R(e){e&&e.forEach((function(e){if(e){var t=r.default("grid-rendered-elem-destroy",!0);e.dispatchEvent(t)}}))}function V(e,t,o,r){for(var n={},i=0;i<e.rowColModel.length(!0);i++){var l=e.rowColModel.get(i).builder,a=o&&o[i];if(l){n[i]=[],R(a);for(var c=0;c<t.viewPort.count;c++)n[i][c]=l.render(r(e.converters.virtual.toView(i),c,a&&a[c]))}}return n}function N(t,o,r,n,l){return function(e,t,o,r,n){var i=e.style;if(r<=0||n<=0)return i.display="none",!1;i.display="",i.top=t+"px",i.left=o+"px",i.height=r+"px",i.width=n+"px",i.position="absolute"}(t,o,r,i.clamp(n,0,e.viewPort.height),i.clamp(l,0,e.viewPort.width))}function k(t,o){var r=e.viewPort.toPx(t);return N(o,r.top,r.left,r.height&&r.height+L(),r.width&&r.width+L())}function F(e){e.forEach((function(e){if(e){var t=e.boundingBox;if(t){var o=t.firstChild;if(o){var n=r.default("decorator-destroy",!0);o.dispatchEvent(n)}var i=t.parentElement;i&&i.removeChild(t),e.boundingBox=void 0}}}))}function j(e){e&&Object.keys(e).forEach((function(t){R(e[t])}))}function B(){if(F(e.decorators.getAlive().concat(e.decorators.popAllDead())),j(b),j(x),t)for(var o=t.querySelectorAll(".js-grid-view-root"),r=0;r<o.length;++r)t.removeChild(o[r])}function H(e,t){if(!e||!C(e))return!1;for(var o=e;o&&!o.classList.contains("grid-container");){if(o===t)return!0;o=o.parentElement}return!1}return e.cellClasses.add(S),e.cellClasses.add(M),e.cellClasses.add(E),e.cellClasses.add(D),e.eventLoop.bind("grid-col-change",(function(){D.left=e.colModel.numFixed()-1,S.width=e.colModel.numHeaders()})),e.eventLoop.bind("grid-row-change",(function(){E.top=e.rowModel.numFixed()-1,M.height=e.rowModel.numHeaders()})),e.eventLoop.bind("grid-cell-mouse-move",(function(e){var t=m.fixed[e.realRow];t&&_.eventIsOnCells(e)&&(t.classList.add("hover"),h&&h!==t&&h.classList.remove("hover"),h=t,(t=m.nonFixed[e.realRow])&&t.classList.add("hover"),g&&g!==t&&g.classList.remove("hover"),g=t)})),e.eventLoop.bind("grid-destroy",(function(){B(),y&&cancelAnimationFrame(y),_.draw=function(){}})),_}t.create=l,t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(6),n=o(1),i=o(4),l=o(11),a=o(0);function c(e){var t,o=n.default(e);function c(r){function n(e,t,o){var n=s.toVirtual,i=r.virtualPixelCell.sizeOf,l=s.clampCell,a=0,c=s._numFixed,u=t>=c,d=e<c,f=o?0:1;d&&(a+=i(e,u?c-1:t-f));u&&(a+=i(n(d?c:e),n(l(t))-f));return a}function c(t,o){for(var n=s.count,i=s.toVirtual,l=r.virtualPixelCell.sizeOf,a=r.virtualPixelCell.fixedSize(),c=e.viewLayer.getBorderWidth()+(t<=a?0:r.pixelScroll.offset),u=0;u<n;u++){var d=i(u),f=c+l(d);if(f>=t)return o?d:u;c=f}return NaN}var s=i.default({count:0,size:0,clientPx:{get start(){var e=t&&t.getClientRects&&t.getClientRects()[0];return e&&r.positionRange.getPosition(e)||0},toGrid:function(e){return e-s.clientPx.start}},_numFixed:0,isInView:function(e){var t=s.toReal(e);return!isNaN(t)&&n(0,t,!0)<s.totalSize()},toVirtual:function(e){var t,o=(t=e)<s._numFixed?t:t+r.cellScroll.position;return r.virtualPixelCell.clampCell(o)},toReal:function(e){var t=s._numFixed;if(e<t)return e;var o=s.count-1;return a.clamp(e-r.cellScroll.position,t,o,!0)},clampCell:function(e){return a.clamp(e,0,s.count-1)},clampPx:function(e){return a.clamp(e,0,s.totalSize())},toPx:function(e){return n(0,e)},toVirtualFromPx:function(e){return c(e,!0)},toViewFromPx:function(e){return c(e)},sizeOf:function(e){return r.virtualPixelCell.sizeOf(s.toVirtual(s.clampCell(e)))},totalSize:function(){return s.size},intersect:function(e,t){var o=s._numFixed,n=[0,o],i=[r.positionRange.getPosition(t),r.positionRange.getSize(t)],a=l.intersect(n,i),c=[o,s.count-o];i[0]-=r.cellScroll.position;var u=l.intersect(c,i),d=l.union(a,u);return d?(r.positionRange.setPosition(e,d[0]),r.positionRange.setSize(e,d[1]),e):null},updateSize:function(e){var t=s.size;return s.size=e,s.count=function(e){for(var t=r.virtualPixelCell.sizeOf,o=r.rowColModel.numFixed(),n=0,i=0,l=0,a=o,c=0;c<o;c++)l+=t(c);for(var s=0,u=o;u<r.rowColModel.length(!0);u++){(d=t(u))>s&&(s=d)}for(e+=s,u=o;u<r.rowColModel.length(!0);u++){var d;for(n+=d=t(u);n+l>e&&a<u;)n-=t(a),a++;var f=u-a+1;f>i&&(i=f)}return Math.min(i+o+1,r.rowColModel.length(!0))}(e),t!==e},_getLengthBetweenCoords:n},["count","size"],[o]);return s}var s={rowInfo:c(e.rows),colInfo:c(e.cols)},u={_onResize:r.default((function(){u._resize()}),200),shortDebouncedResize:r.default((function(){u._resize()}),1),isDirty:o.isDirty,sizeToContainer:function(o){t=o;var r=u.rowInfo.updateSize(o.offsetHeight),n=u.colInfo.updateSize(o.offsetWidth),i={type:"grid-viewport-change",isWidthChange:n,isHeightChange:r,isSizeChange:n||r};e.eventLoop.fire(i)},_resize:function(){t&&u.sizeToContainer(t)},toPx:function(e){return{top:u.getRowTop(e.top),left:u.getColLeft(e.left),height:u.rowInfo._getLengthBetweenCoords(e.top,e.top+e.height-1,!0),width:u.colInfo._getLengthBetweenCoords(e.left,e.left+e.width-1,!0)}},intersect:function(e){var t=u.rowInfo.intersect({},e);return t?u.colInfo.intersect(t,e):null},iterateCells:function(e,t,o,r){void 0===o&&(o=1/0),void 0===r&&(r=1/0);for(var n=0;n<Math.min(u.rows,o);n++)if(t&&t(n),e)for(var i=0;i<Math.min(u.cols,r);i++)e(n,i)},get rows(){return s.rowInfo.count},set rows(e){s.rowInfo.count=e},get cols(){return s.colInfo.count},set cols(e){s.colInfo.count=e},get height(){return s.rowInfo.size},set height(e){s.rowInfo.size=e},get width(){return s.colInfo.size},set width(e){s.colInfo.size=e},get top(){return s.rowInfo.clientPx.start},get left(){return s.colInfo.clientPx.start},toGridY:s.rowInfo.clientPx.toGrid,toGridX:s.colInfo.clientPx.toGrid,toVirtualRow:s.rowInfo.toVirtual,toVirtualCol:s.colInfo.toVirtual,rowIsInView:s.rowInfo.isInView,colIsInView:s.colInfo.isInView,toRealRow:s.rowInfo.toReal,toRealCol:s.colInfo.toReal,clampRow:s.rowInfo.clampCell,clampCol:s.colInfo.clampCell,clampY:s.rowInfo.clampPx,clampX:s.colInfo.clampPx,getRowTop:s.rowInfo.toPx,getColLeft:s.colInfo.toPx,getVirtualRowByTop:s.rowInfo.toVirtualFromPx,getVirtualColByLeft:s.colInfo.toVirtualFromPx,getRowByTop:s.rowInfo.toViewFromPx,getColByLeft:s.colInfo.toViewFromPx,getRowHeight:s.rowInfo.sizeOf,getColWidth:s.colInfo.sizeOf,rowInfo:s.rowInfo,colInfo:s.colInfo};return e.eventLoop.bind("grid-destroy",(function(){u._onResize.cancel(),u.shortDebouncedResize.cancel()})),e.eventLoop.bind(window,"resize",(function(){u._onResize()})),e.eventLoop.bind("grid-row-change",(function(){u.rowInfo._numFixed=e.rowModel.numFixed(),u.shortDebouncedResize()})),e.eventLoop.bind("grid-col-change",(function(){u.colInfo._numFixed=e.colModel.numFixed(),u.shortDebouncedResize()})),u}t.create=c,t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var r=o(0);function n(e){var t={toCellFromPx:function(t){if(t<0)return NaN;for(var o=0,r=0;r<e.rowColModel.length(!0);r++)if(t<(o+=e.rowColModel.sizeOf(r)))return r;return NaN},clampCell:function(t){var o=e.rowColModel.length(!0)-1;return r.clamp(t,0,o)},sizeOf:function(o,n){var i=0;if(null!=n&&n<o)return 0;n=r.isNumber(n)?n:o,n=t.clampCell(n);for(var l=o=t.clampCell(o);l<=n;l++)i+=e.rowColModel.sizeOf(l);return i},totalSize:function(){return t.sizeOf(0,e.rowColModel.length(!0)-1)},fixedSize:function(){return t.sizeOf(0,e.rowColModel.numFixed()-1)}};return t}function i(e){var t={rows:n(e.rows),cols:n(e.cols)},o={getRow:t.rows.toCellFromPx,getCol:t.cols.toCellFromPx,clampRow:t.rows.clampCell,clampCol:t.cols.clampCell,height:t.rows.sizeOf,width:t.cols.sizeOf,totalHeight:t.rows.totalSize,totalWidth:t.cols.totalSize,fixedHeight:t.rows.fixedSize,fixedWidth:t.cols.fixedSize,rows:t.rows,cols:t.cols};function r(){e.eventLoop.fire("grid-virtual-pixel-cell-change")}return e.eventLoop.bind("grid-col-change",r),e.eventLoop.bind("grid-row-change",r),o}t.create=i,t.default=i},function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||r(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,o(38).polyfill();var i=o(12),l=o(13),a=o(14),c=o(16),s=o(17),u=o(18),d=o(21),f=o(22),p=o(10),v=o(23),h=o(1),g=o(24),w=o(2),y=o(26),m=o(27),b=o(28),x=o(5),_=o(29),C=o(30),S=o(31),M=o(32),D=o(33),E=o(0),P=o(34),O=o(35),A=o(36),L=o(52),T=o(20);function I(e){void 0===e&&(e={});var t,o,r={},n=function(e,t){return void 0===r[e]&&(r[e]=t()),r[e]},I=!1,z=[],R=[],V={opts:e,focused:!1,destroyed:!1,textarea:(o=document.createElement("textarea"),o.setAttribute("dts","grid-textarea"),E.position(o,0,0),o.style.width="0px",o.style.height="1px",o.style.maxWidth="100%",o.style.maxHeight="100%",o.style.zIndex="0",o.style.overflow="hidden",o.style.background="transparent",o.style.color="transparent",o.style.border="none",o.style.boxShadow="none",o.style.resize="none",o.style.cursor="default",o.classList.add("grid-textarea"),o.setAttribute("ondragstart","return false;"),o),get escapeStack(){return t||L(!0)},set escapeStack(e){t=e},requestDraw:function(){N.viewLayer&&N.viewLayer.draw&&(N.eventLoop.isRunning?I=!0:N.viewLayer.draw())},get data(){return n("data",(function(){return new S.DataSpaceConverter(N)}))},get view(){return n("view",(function(){return new M.ViewSpaceConverter(N)}))},get virtual(){return n("virtual",(function(){return new D.VirtualSpaceConverter(N)}))},timeout:function(){if(!N.destroyed){var e=window.setTimeout.apply(window,arguments);return z.push(e),e}},interval:function(){if(!N.destroyed){var e=window.setInterval.apply(window,arguments);return R.push(e),e}},build:function(e){N.container=e,function(e,t){var o;e.addEventListener("focus",(function(){t&&T(t).add("focus"),e.select(),N.focused=!0,N.eventLoop.fire("grid-focus")})),e.addEventListener("blur",(function(){t&&T(t).remove("focus"),N.focused=!1,N.eventLoop.fire("grid-blur")})),N.eventLoop.addInterceptor((function(t){"mousedown"===t.type&&2===t.button&&(e.style.width="100%",e.style.height="100%",e.style.zIndex="1",o&&clearTimeout(o),o=window.setTimeout((function(){e.style.zIndex="0",e.style.width="0px",e.style.height="1px"}),1))})),t.appendChild(e),t.getAttribute("tabIndex")||(t.tabIndex=-1);t.addEventListener("focus",(function(){e&&e.focus()}))}(N.textarea,e),N.viewPort.sizeToContainer(e),N.viewLayer.build(e),N.eventLoop.setContainer(e),e.style.overflow="hidden",e.addEventListener("scroll",(function(){e.scrollTop=0,e.scrollLeft=0}))},makeDirtyClean:function(){return h.default(N)},eventIsOnCells:function(e){return N.viewLayer.eventIsOnCells(e)},destroy:function(){N.eventLoop.fire("grid-destroy")},rows:{get rowColModel(){return N.rowModel},get viewPort(){return N.viewPort.rowInfo},get cellScroll(){return N.cellScrollModel.rowInfo},get pixelScroll(){return N.pixelScrollModel.y},get positionRange(){return x.rowPositionRangeDimension},get cellMouse(){return N.cellMouseModel.rowInfo},get virtualPixelCell(){return N.virtualPixelCellModel.rows},converters:{get virtual(){return V.virtual.row},get view(){return V.view.row},get data(){return V.data.row}}},cols:{get rowColModel(){return N.colModel},get viewPort(){return N.viewPort.colInfo},get cellScroll(){return N.cellScrollModel.colInfo},get pixelScroll(){return N.pixelScrollModel.x},get positionRange(){return x.colPositionRangeDimension},get cellMouse(){return N.cellMouseModel.colInfo},get virtualPixelCell(){return N.virtualPixelCellModel.cols},converters:{get virtual(){return V.virtual.col},get view(){return V.view.col},get data(){return V.data.col}}}},N=V;return N.eventLoop=w.default(),N.decorators=v.default(N),N.cellClasses=i.default(N),N.rowModel=_.default(N),N.colModel=s.default(N),N.dataModel=p.default(N,e.loadRows),N.virtualPixelCellModel=A.default(N),N.cellScrollModel=c.default(N),N.cellMouseModel=a.default(N),N.cellKeyboardModel=l.default(N),N.fps=y.default(N),N.viewPort=O.default(N),N.viewLayer=P.default(N),e.col&&e.col.disableReorder||(N.colReorder=u.default(N)),e.allowEdit&&(N.editModel=g.default(N)),N.navigationModel=m.default(N),N.pixelScrollModel=b.default(N),N.showHiddenCols=C.default(N),e.col&&e.col.disableResize||(N.colResize=d.default(N)),N.copyPaste=f.default(N),N.eventLoop.addExitListener((function(){I&&N.viewLayer.draw()})),N.eventLoop.bind("grid-destroy",(function(){R.forEach((function(e){clearInterval(e)})),z.forEach((function(e){clearTimeout(e)}))})),N}t.create=I,t.default=I,n(o(9),t),n(o(12),t),n(o(13),t),n(o(14),t),n(o(16),t),n(o(17),t),n(o(18),t),n(o(21),t),n(o(22),t),n(o(10),t),n(o(10),t),n(o(23),t),n(o(1),t),n(o(24),t),n(o(2),t),n(o(26),t),n(o(27),t),n(o(28),t),n(o(5),t),n(o(29),t),n(o(30),t),n(o(7),t),n(o(31),t),n(o(8),t),n(o(32),t),n(o(33),t),n(o(0),t),n(o(34),t),n(o(35),t),n(o(36),t)},function(e,t,o){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var o=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i=Object.keys(Object(n)),l=0,a=i.length;l<a;l++){var c=i[l],s=Object.getOwnPropertyDescriptor(n,c);void 0!==s&&s.enumerable&&(o[c]=n[c])}}return o}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,o){"use strict";function r(){var e=[];return{addListener:function(t){return e.push(t),function(){e.splice(e.indexOf(t),1)}},notify:function(t){e.forEach((function(e){e(t)}))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0,t.create=r,t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["mousewheel","wheel","DOMMouseScroll"],n={getDelta:function(e,t){if(e.wheelDelta){var o=e.wheelDeltaY;return t&&(o=e.wheelDeltaX),o}if(e.detail){var r=e;if(r.axis&&(1===r.axis&&t||2===r.axis&&!t))return-1*r.detail*12}else if(e.deltaX||e.deltaY)return t?-1*e.deltaX:-1*e.deltaY;return 0},bind:function(e,t){var o=function(e){t(i(e))};return r.forEach((function(t){e.addEventListener(t,o)})),function(){r.forEach((function(t){e.removeEventListener(t,o)}))}},normalize:i};function i(e){var t=n.getDelta(e,!0),o=n.getDelta(e),r=Object.create(e,{deltaY:{value:o},deltaX:{value:t},type:{value:"mousewheel"},target:{value:e.target},currentTarget:{value:e.currentTarget},defaultPrevented:{value:!1,writable:!0}});return r.preventDefault=function(){r.defaultPrevented=!0,e&&e.preventDefault&&e.preventDefault()},r}t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,o){"use strict";function r(e,t){void 0===t&&(t={});var o=Object.assign(t,{_decorators:{},makeDecorator:t.makeDecorator||r});function r(t){var r=e.decorators.create(0,t,1,1,"cell","real");return r.getDecoratorLeft=function(){var t=r.boundingBox&&r.boundingBox.getClientRects&&r.boundingBox.getClientRects()[0];return t&&e.viewPort.toGridX(t.left)||0},o.annotateDecorator&&o.annotateDecorator(r),r}function n(){for(var t=0;t<e.viewPort.cols;t++)if(!o._decorators[t]){if(o.isNeeded&&!o.isNeeded(t))continue;var r=o.makeDecorator(t);o._decorators[t]=r,e.decorators.add(r)}}return o.makeDecorator=o.makeDecorator||r,e.eventLoop.bind("grid-viewport-change",(function(){n()})),n(),o}Object.defineProperty(t,"__esModule",{value:!0}),t.add=void 0,t.add=r,t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.stringify=void 0;t.stringify=function(e){var t="";return e.forEach((function(o,r){o.forEach((function(e,r){-1===e.indexOf("\n")&&-1===e.indexOf("\t")&&-1===e.indexOf('"')||(e='"'+e.replace(/"/g,'""')+'"'),t+=e,r!==o.length-1&&(t+="\t")})),r!==e.length-1&&(t+="\n")})),t};t.parse=function(e){return function(e,t){t=t||",";for(var o=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]+))","gi"),r=[[]],n=null;n=o.exec(e);){var i=n[1];i.length&&i!==t&&r.push([]);var l=void 0;l=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],r[r.length-1].push(l)}return(r[0].length||!e)&&r||[[e]]}(e,"\t")}},function(e,t){e.exports=function(e){if(e.innerText)return e.innerText;if(!window.getSelection)return"ERROR: UUPS `window.getSelection` is not available.";for(var t,o=window.getSelection(),r=[],n=0;n<o.rangeCount;n++)r[n]=o.getRangeAt(n);o.removeAllRanges(),o.selectAllChildren(e),t=o.toString(),o.removeAllRanges();for(n=0;n<r.length;n++)o.addRange(r[n]);return t}},function(e,t,o){(function(){"use strict";var t,r;r={backspace:(t=o(3).ref)("Backspace",8),tab:t("Tab",9),enter:t("Enter",13),shift:t("Shift",16),ctrl:t("Ctrl",17),alt:t("Alt",18),caps:t("Caps Lock",20),esc:t("Escape",27),space:t("Space",32),num:t("Num Lock",144)},e.exports=r}).call(this)},function(e,t,o){(function(){"use strict";var t,r;t={left:(r=o(3).ref)("Left",37),up:r("Up",38),right:r("Right",39),down:r("Down",40)},e.exports=t}).call(this)},function(e,t,o){(function(){"use strict";var t,r;(t={colon:(r=o(3).ref)("Colon/Semicolon",[59,186]),equal:r("Equal/Plus",[61,187]),comma:r("Comma/Less Than",[44,188]),hyphen:r("Hyphen/Underscore",[45,109,189]),period:r("Period/Greater Than",[46,190]),tilde:r("Tilde/Back Tick",[96,192]),apostrophe:r("Apostrophe/Quote",[39,222]),slash:{forward:r("Forward Slash/Question Mark",[47,191]),backward:r("Backward Slash/Pipe",220)},brace:{square:{open:r("Open Square/Curly Brace",219),close:r("Close Square/Curly Brace",221)}}}).semicolon=t.colon,t.plus=t.equal,t.lessthan=t.comma,t.underscore=t.hyphen,t.greaterthan=t.period,t.question=t.slash.forward,t.backtick=t.tilde,t.pipe=t.slash.backward,t.quote=t.apostrophe,t.brace.curly=t.brace.square,e.exports=t}).call(this)},function(e,t,o){(function(){"use strict";var t,r;t={0:(r=o(3).ref)("0",48),1:r("1",49),2:r("2",50),3:r("3",51),4:r("4",52),5:r("5",53),6:r("6",54),7:r("7",55),8:r("8",56),9:r("9",57),a:r("A",65),b:r("B",66),c:r("C",67),d:r("D",68),e:r("E",69),f:r("F",70),g:r("G",71),h:r("H",72),i:r("I",73),j:r("J",74),k:r("K",75),l:r("L",76),m:r("M",77),n:r("N",78),o:r("O",79),p:r("P",80),q:r("Q",81),r:r("R",82),s:r("S",83),t:r("T",84),u:r("U",85),v:r("V",86),w:r("W",87),x:r("X",88),y:r("Y",89),z:r("Z",90)},e.exports=t}).call(this)},function(e,t,o){(function(){"use strict";var t,r;t={apple:(r=o(3).ref)("Apple &#8984;",224),windows:{start:r("Windows start",[91,92]),menu:r("Windows menu",93)}},e.exports=t}).call(this)},function(e,t){e.exports.listen=function(e,t,o){var r=o||{},n=!1,i=r.eventListenerElement||document,l=r.isInMe;function a(t){"function"==typeof e&&(e=e()),n=!(e&&(e===t.target||e.contains(t.target)||l&&l(t.target)))}function c(e){n&&t(e)}return i.addEventListener("mousedown",a),i.addEventListener("mouseup",c),function(){i.removeEventListener("mousedown",a),i.removeEventListener("mouseup",c)}}},function(e,t,o){"use strict";var r;e.exports=(r=window&&window.performance)&&r.now?r.now.bind(r):function(){return(new Date).getTime()}},function(e,t){var o;function r(){var e=[];return document.body.addEventListener("keydown",(function(t){if(27===(t.keyCode?t.keyCode:t.which))for(;e.length&&!e.pop()(t););}),!0),{add:function(t){return e.push(t),function(){!function(t){var o=e.indexOf(t);-1!==o&&e.splice(o,1)}(t)}}}}e.exports=function(e){return e?(o||(o=r()),o):r()}}])}));
//# sourceMappingURL=grid.js.map